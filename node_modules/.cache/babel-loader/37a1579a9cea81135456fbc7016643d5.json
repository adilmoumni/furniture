{"ast":null,"code":"import { createSuitMixin as e } from \"../mixins/suit.js\";\nimport \"vue\";\nimport { isVue2 as t, isVue3 as i } from \"../util/vue-compat/index-2.js\";\nimport { createWidgetMixin as n } from \"../mixins/widget.js\";\nimport { connectSearchBox as o } from \"instantsearch.js/es/connectors\";\nimport s from \"./SearchInput.vue.js\";\nexport default {\n  render: function () {\n    var e = this,\n        t = e.$createElement,\n        i = e._self._c || t;\n    return e.state ? i(\"div\", {\n      class: e.suit()\n    }, [e._t(\"default\", [i(\"search-input\", {\n      attrs: {\n        placeholder: e.placeholder,\n        autofocus: e.autofocus,\n        \"show-loading-indicator\": e.showLoadingIndicator,\n        \"should-show-loading-indicator\": e.state.isSearchStalled,\n        \"submit-title\": e.submitTitle,\n        \"reset-title\": e.resetTitle,\n        \"class-names\": e.classNames\n      },\n      on: {\n        focus: function (t) {\n          return e.$emit(\"focus\", t);\n        },\n        blur: function (t) {\n          return e.$emit(\"blur\", t);\n        },\n        reset: function (t) {\n          return e.$emit(\"reset\");\n        }\n      },\n      scopedSlots: e._u([e.isVue3 ? {\n        key: \"loading-indicator\",\n        fn: function (t) {\n          return [e._t(\"loading-indicator\")];\n        }\n      } : null, e.isVue3 ? {\n        key: \"submit-icon\",\n        fn: function (t) {\n          return [e._t(\"submit-icon\")];\n        }\n      } : null, e.isVue3 ? {\n        key: \"reset-icon\",\n        fn: function (t) {\n          return [e._t(\"reset-icon\")];\n        }\n      } : null], !0),\n      model: {\n        value: e.currentRefinement,\n        callback: function (t) {\n          e.currentRefinement = t;\n        },\n        expression: \"currentRefinement\"\n      }\n    }, [e._v(\" \"), e.isVue2 ? e._t(\"loading-indicator\", null, {\n      slot: \"loading-indicator\"\n    }) : e._e(), e._v(\" \"), e._v(\" \"), e.isVue2 ? e._t(\"submit-icon\", null, {\n      slot: \"submit-icon\"\n    }) : e._e(), e._v(\" \"), e._v(\" \"), e.isVue2 ? e._t(\"reset-icon\", null, {\n      slot: \"reset-icon\"\n    }) : e._e()], 2)], {\n      currentRefinement: e.currentRefinement,\n      isSearchStalled: e.state.isSearchStalled,\n      refine: e.state.refine\n    })], 2) : e._e();\n  },\n  staticRenderFns: [],\n  name: \"AisSearchBox\",\n  mixins: [n({\n    connector: o\n  }), e({\n    name: \"SearchBox\"\n  })],\n  components: {\n    SearchInput: s\n  },\n  props: {\n    placeholder: {\n      type: String,\n      default: \"Search here…\"\n    },\n    autofocus: {\n      type: Boolean,\n      default: !1\n    },\n    showLoadingIndicator: {\n      type: Boolean,\n      default: !1\n    },\n    submitTitle: {\n      type: String,\n      default: \"Search\"\n    },\n    resetTitle: {\n      type: String,\n      default: \"Clear\"\n    },\n    value: {\n      type: String,\n      default: void 0\n    },\n    modelValue: {\n      type: String,\n      default: void 0\n    }\n  },\n  data: function () {\n    return {\n      localValue: \"\",\n      isVue2: t,\n      isVue3: i\n    };\n  },\n  computed: {\n    isControlled: function () {\n      return void 0 !== this.value || void 0 !== this.modelValue;\n    },\n    model: function () {\n      return this.value || this.modelValue;\n    },\n    currentRefinement: {\n      get: function () {\n        return this.isControlled && this.model !== this.localValue && (this.localValue = this.model, this.$emit(\"input\", this.model), this.$emit(\"update:modelValue\", this.model), this.state.refine(this.model)), this.model || this.state.query || \"\";\n      },\n      set: function (e) {\n        this.localValue = e, this.state.refine(e), this.isControlled && (this.$emit(\"input\", e), this.$emit(\"update:modelValue\", e));\n      }\n    }\n  }\n};","map":{"version":3,"sources":["../../../../src/components/SearchBox.vue"],"names":["render","name","mixins","createWidgetMixin","connector","connectSearchBox","createSuitMixin","components","SearchInput","props","placeholder","type","String","default","autofocus","Boolean","showLoadingIndicator","submitTitle","resetTitle","value","undefined","modelValue","data","localValue","isVue2","isVue3","computed","isControlled","this","model","currentRefinement","get","$emit","state","refine","query","set","val"],"mappings":"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","sourcesContent":["<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :current-refinement=\"currentRefinement\"\n      :is-search-stalled=\"state.isSearchStalled\"\n      :refine=\"state.refine\"\n    >\n      <search-input\n        @focus=\"$emit('focus', $event)\"\n        @blur=\"$emit('blur', $event)\"\n        @reset=\"$emit('reset')\"\n        :placeholder=\"placeholder\"\n        :autofocus=\"autofocus\"\n        :show-loading-indicator=\"showLoadingIndicator\"\n        :should-show-loading-indicator=\"state.isSearchStalled\"\n        :submit-title=\"submitTitle\"\n        :reset-title=\"resetTitle\"\n        :class-names=\"classNames\"\n        v-model=\"currentRefinement\"\n      >\n        <template\n          v-slot:loading-indicator\n          v-if=\"isVue3\"\n        >\n          <slot\n            name=\"loading-indicator\"\n          />\n        </template>\n        <slot\n          v-if=\"isVue2\"\n          name=\"loading-indicator\"\n          slot=\"loading-indicator\"\n        />\n\n        <template\n          v-slot:submit-icon\n          v-if=\"isVue3\"\n        >\n          <slot\n            name=\"submit-icon\"\n          />\n        </template>\n        <slot\n          v-if=\"isVue2\"\n          name=\"submit-icon\"\n          slot=\"submit-icon\"\n        />\n\n        <template\n          v-slot:reset-icon\n          v-if=\"isVue3\"\n        >\n          <slot\n            name=\"reset-icon\"\n          />\n        </template>\n        <slot\n          v-if=\"isVue2\"\n          name=\"reset-icon\"\n          slot=\"reset-icon\"\n        />\n      </search-input>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectSearchBox } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { isVue3, isVue2 } from '../util/vue-compat';\nimport SearchInput from './SearchInput.vue';\n\nexport default {\n  name: 'AisSearchBox',\n  mixins: [\n    createWidgetMixin({ connector: connectSearchBox }),\n    createSuitMixin({ name: 'SearchBox' }),\n  ],\n  components: {\n    SearchInput,\n  },\n  props: {\n    placeholder: {\n      type: String,\n      default: 'Search here…',\n    },\n    autofocus: {\n      type: Boolean,\n      default: false,\n    },\n    showLoadingIndicator: {\n      type: Boolean,\n      default: false,\n    },\n    submitTitle: {\n      type: String,\n      default: 'Search',\n    },\n    resetTitle: {\n      type: String,\n      default: 'Clear',\n    },\n    value: {\n      type: String,\n      default: undefined,\n    },\n    modelValue: {\n      type: String,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      localValue: '',\n      isVue2,\n      isVue3,\n    };\n  },\n  computed: {\n    isControlled() {\n      return (\n        typeof this.value !== 'undefined' ||\n        typeof this.modelValue !== 'undefined'\n      );\n    },\n    model() {\n      return this.value || this.modelValue;\n    },\n    currentRefinement: {\n      get() {\n        // if the input is controlled, but not up to date\n        // this means it didn't search, and we should pretend it was `set`\n        if (this.isControlled && this.model !== this.localValue) {\n          // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n          this.localValue = this.model;\n          this.$emit('input', this.model);\n          this.$emit('update:modelValue', this.model);\n          this.state.refine(this.model);\n        }\n        return this.model || this.state.query || '';\n      },\n      set(val) {\n        this.localValue = val;\n        this.state.refine(val);\n        if (this.isControlled) {\n          this.$emit('input', val);\n          this.$emit('update:modelValue', val);\n        }\n      },\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}