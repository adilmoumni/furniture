{"ast":null,"code":"import { createSuitMixin as t } from \"../mixins/suit.js\";\nimport { createWidgetMixin as e } from \"../mixins/widget.js\";\nimport { connectVoiceSearch as s } from \"instantsearch.js/es/connectors\";\nexport default {\n  render: function () {\n    var t = this,\n        e = t.$createElement,\n        s = t._self._c || e;\n    return t.state ? s(\"div\", {\n      class: t.suit()\n    }, [t._t(\"default\", [s(\"button\", {\n      class: t.suit(\"button\"),\n      attrs: {\n        type: \"button\",\n        title: t.state.isBrowserSupported ? t.buttonTitle : t.disabledButtonTitle,\n        disabled: !t.state.isBrowserSupported\n      },\n      on: {\n        click: t.handleClick\n      }\n    }, [t._t(\"buttonText\", [t.errorNotAllowed ? s(\"svg\", t._b({}, \"svg\", t.buttonSvgAttrs, !1), [s(\"line\", {\n      attrs: {\n        x1: \"1\",\n        y1: \"1\",\n        x2: \"23\",\n        y2: \"23\"\n      }\n    }), t._v(\" \"), s(\"path\", {\n      attrs: {\n        d: \"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6\"\n      }\n    }), t._v(\" \"), s(\"path\", {\n      attrs: {\n        d: \"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23\"\n      }\n    }), t._v(\" \"), s(\"line\", {\n      attrs: {\n        x1: \"12\",\n        y1: \"19\",\n        x2: \"12\",\n        y2: \"23\"\n      }\n    }), t._v(\" \"), s(\"line\", {\n      attrs: {\n        x1: \"8\",\n        y1: \"23\",\n        x2: \"16\",\n        y2: \"23\"\n      }\n    })]) : s(\"svg\", t._b({}, \"svg\", t.buttonSvgAttrs, !1), [s(\"path\", {\n      attrs: {\n        d: \"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\",\n        fill: t.state.isListening ? \"currentColor\" : \"none\"\n      }\n    }), t._v(\" \"), s(\"path\", {\n      attrs: {\n        d: \"M19 10v2a7 7 0 0 1-14 0v-2\"\n      }\n    }), t._v(\" \"), s(\"line\", {\n      attrs: {\n        x1: \"12\",\n        y1: \"19\",\n        x2: \"12\",\n        y2: \"23\"\n      }\n    }), t._v(\" \"), s(\"line\", {\n      attrs: {\n        x1: \"8\",\n        y1: \"23\",\n        x2: \"16\",\n        y2: \"23\"\n      }\n    })])], null, t.innerSlotProps)], 2), t._v(\" \"), s(\"div\", {\n      class: t.suit(\"status\")\n    }, [t._t(\"status\", [s(\"p\", [t._v(t._s(t.state.voiceListeningState.transcript))])], null, t.innerSlotProps)], 2)], null, t.rootSlotProps)], 2) : t._e();\n  },\n  staticRenderFns: [],\n  name: \"AisVoiceSearch\",\n  mixins: [e({\n    connector: s\n  }), t({\n    name: \"VoiceSearch\"\n  })],\n  props: {\n    searchAsYouSpeak: {\n      type: Boolean,\n      required: !1,\n      default: void 0\n    },\n    buttonTitle: {\n      type: String,\n      required: !1,\n      default: \"Search by voice\"\n    },\n    disabledButtonTitle: {\n      type: String,\n      required: !1,\n      default: \"Search by voice (not supported on this browser)\"\n    }\n  },\n  data: function () {\n    return {\n      buttonSvgAttrs: {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"16\",\n        height: \"16\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\"\n      }\n    };\n  },\n  computed: {\n    widgetParams: function () {\n      return {\n        searchAsYouSpeak: this.searchAsYouSpeak\n      };\n    },\n    errorNotAllowed: function () {\n      return \"error\" === this.state.voiceListeningState.status && \"not-allowed\" === this.state.voiceListeningState.errorCode;\n    },\n    rootSlotProps: function () {\n      return {\n        isBrowserSupported: this.state.isBrowserSupported,\n        isListening: this.state.isListening,\n        toggleListening: this.state.toggleListening,\n        voiceListeningState: this.state.voiceListeningState\n      };\n    },\n    innerSlotProps: function () {\n      return {\n        status: this.state.voiceListeningState.status,\n        errorCode: this.state.voiceListeningState.errorCode,\n        isListening: this.state.isListening,\n        transcript: this.state.voiceListeningState.transcript,\n        isSpeechFinal: this.state.voiceListeningState.isSpeechFinal,\n        isBrowserSupported: this.state.isBrowserSupported\n      };\n    }\n  },\n  methods: {\n    handleClick: function (t) {\n      t.currentTarget.blur(), this.state.toggleListening();\n    }\n  }\n};","map":{"version":3,"sources":["../../../../src/components/VoiceSearch.vue"],"names":["render","name","mixins","createWidgetMixin","connector","connectVoiceSearch","createSuitMixin","props","searchAsYouSpeak","type","Boolean","required","default","undefined","buttonTitle","String","disabledButtonTitle","data","buttonSvgAttrs","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","computed","widgetParams","this","errorNotAllowed","state","voiceListeningState","status","errorCode","rootSlotProps","isBrowserSupported","isListening","toggleListening","innerSlotProps","transcript","isSpeechFinal","methods","handleClick","event","currentTarget","blur"],"mappings":"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","sourcesContent":["<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot v-bind=\"rootSlotProps\">\n      <button\n        type=\"button\"\n        :class=\"suit('button')\"\n        :title=\"state.isBrowserSupported ? buttonTitle : disabledButtonTitle\"\n        :disabled=\"!state.isBrowserSupported\"\n        @click=\"handleClick\"\n      >\n        <slot\n          name=\"buttonText\"\n          v-bind=\"innerSlotProps\"\n        >\n          <svg\n            v-bind=\"buttonSvgAttrs\"\n            v-if=\"errorNotAllowed\"\n          >\n            <line\n              x1=\"1\"\n              y1=\"1\"\n              x2=\"23\"\n              y2=\"23\"\n            />\n            <path d=\"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6\" />\n            <path d=\"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23\" />\n            <line\n              x1=\"12\"\n              y1=\"19\"\n              x2=\"12\"\n              y2=\"23\"\n            />\n            <line\n              x1=\"8\"\n              y1=\"23\"\n              x2=\"16\"\n              y2=\"23\"\n            />\n          </svg>\n          <svg\n            v-bind=\"buttonSvgAttrs\"\n            v-else\n          >\n            <path\n              d=\"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\"\n              :fill=\"state.isListening ? 'currentColor' : 'none'\"\n            />\n            <path d=\"M19 10v2a7 7 0 0 1-14 0v-2\" />\n            <line\n              x1=\"12\"\n              y1=\"19\"\n              x2=\"12\"\n              y2=\"23\"\n            />\n            <line\n              x1=\"8\"\n              y1=\"23\"\n              x2=\"16\"\n              y2=\"23\"\n            />\n          </svg>\n        </slot>\n      </button>\n      <div :class=\"suit('status')\">\n        <slot\n          name=\"status\"\n          v-bind=\"innerSlotProps\"\n        >\n          <p>{{ state.voiceListeningState.transcript }}</p>\n        </slot>\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectVoiceSearch } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisVoiceSearch',\n  mixins: [\n    createWidgetMixin({ connector: connectVoiceSearch }),\n    createSuitMixin({ name: 'VoiceSearch' }),\n  ],\n  props: {\n    searchAsYouSpeak: {\n      type: Boolean,\n      required: false,\n      default: undefined,\n    },\n    buttonTitle: {\n      type: String,\n      required: false,\n      default: 'Search by voice',\n    },\n    disabledButtonTitle: {\n      type: String,\n      required: false,\n      default: 'Search by voice (not supported on this browser)',\n    },\n  },\n  data() {\n    return {\n      buttonSvgAttrs: {\n        xmlns: 'http://www.w3.org/2000/svg',\n        width: '16',\n        height: '16',\n        viewBox: '0 0 24 24',\n        fill: 'none',\n        stroke: 'currentColor',\n        strokeWidth: '2',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n      },\n    };\n  },\n  computed: {\n    widgetParams() {\n      return {\n        searchAsYouSpeak: this.searchAsYouSpeak,\n      };\n    },\n    errorNotAllowed() {\n      return (\n        this.state.voiceListeningState.status === 'error' &&\n        this.state.voiceListeningState.errorCode === 'not-allowed'\n      );\n    },\n    rootSlotProps() {\n      return {\n        isBrowserSupported: this.state.isBrowserSupported,\n        isListening: this.state.isListening,\n        toggleListening: this.state.toggleListening,\n        voiceListeningState: this.state.voiceListeningState,\n      };\n    },\n    innerSlotProps() {\n      return {\n        status: this.state.voiceListeningState.status,\n        errorCode: this.state.voiceListeningState.errorCode,\n        isListening: this.state.isListening,\n        transcript: this.state.voiceListeningState.transcript,\n        isSpeechFinal: this.state.voiceListeningState.isSpeechFinal,\n        isBrowserSupported: this.state.isBrowserSupported,\n      };\n    },\n  },\n  methods: {\n    handleClick(event) {\n      event.currentTarget.blur();\n      this.state.toggleListening();\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}