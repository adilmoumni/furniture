{"ast":null,"code":"function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { isEqual } from '../utils';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse( // @ts-expect-error JSON.parse() requires a string, but it actually accepts null, too.\n        window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}","map":{"version":3,"sources":["/Users/adil/Documents/GitHub/furniture-front/node_modules/instantsearch.js/es/lib/infiniteHitsCache/sessionStorage.js"],"names":["_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","keys","isEqual","getStateWithoutPage","state","_ref","page","rest","KEY","hasSessionStorage","window","sessionStorage","createInfiniteHitsSessionStorageCache","read","_ref2","cache","JSON","parse","getItem","hits","error","SyntaxError","removeItem","err","write","_ref3","setItem","stringify"],"mappings":"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","sourcesContent":["function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { isEqual } from '../utils';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse( // @ts-expect-error JSON.parse() requires a string, but it actually accepts null, too.\n        window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}