{"ast":null,"code":"import { createSuitMixin as e } from \"../mixins/suit.js\";\nimport { createWidgetMixin as t } from \"../mixins/widget.js\";\nimport { connectCurrentRefinements as i } from \"instantsearch.js/es/connectors\";\nimport { createPanelConsumerMixin as n } from \"../mixins/panel.js\";\nexport default {\n  render: function () {\n    var e = this,\n        t = e.$createElement,\n        i = e._self._c || t;\n    return e.state ? i(\"div\", {\n      class: [e.suit(), e.noRefinement && e.suit(\"\", \"noRefinement\")]\n    }, [e._t(\"default\", [i(\"ul\", {\n      class: e.suit(\"list\")\n    }, e._l(e.state.items, function (t) {\n      return i(\"li\", {\n        key: t.attribute,\n        class: e.suit(\"item\")\n      }, [e._t(\"item\", [i(\"span\", {\n        class: e.suit(\"label\")\n      }, [e._v(e._s(e.capitalize(t.label)) + \": \")]), e._v(\" \"), e._l(t.refinements, function (n) {\n        return i(\"span\", {\n          key: e.createItemKey(n),\n          class: e.suit(\"category\")\n        }, [e._t(\"refinement\", [i(\"span\", {\n          class: e.suit(\"categoryLabel\")\n        }, [\"query\" === n.attribute ? i(\"q\", [e._v(e._s(n.label))]) : [e._v(\" \" + e._s(n.label) + \" \")]], 2), e._v(\" \"), i(\"button\", {\n          class: e.suit(\"delete\"),\n          on: {\n            click: function (e) {\n              return t.refine(n);\n            }\n          }\n        }, [e._v(\" ✕ \")])], {\n          refine: t.refine,\n          refinement: n,\n          createURL: e.state.createURL\n        })], 2);\n      })], {\n        refine: t.refine,\n        item: t,\n        createURL: e.state.createURL\n      })], 2);\n    }), 0)], {\n      refine: e.state.refine,\n      items: e.state.items,\n      createURL: e.state.createURL\n    })], 2) : e._e();\n  },\n  staticRenderFns: [],\n  name: \"AisCurrentRefinements\",\n  mixins: [e({\n    name: \"CurrentRefinements\"\n  }), t({\n    connector: i\n  }), n({\n    mapStateToCanRefine: function (e) {\n      return Boolean(e.items) && e.items.length > 0;\n    }\n  })],\n  props: {\n    includedAttributes: {\n      type: Array,\n      default: void 0\n    },\n    excludedAttributes: {\n      type: Array,\n      default: void 0\n    },\n    transformItems: {\n      type: Function,\n      default: void 0\n    }\n  },\n  computed: {\n    noRefinement: function () {\n      return this.state && 0 === this.state.items.length;\n    },\n    widgetParams: function () {\n      return {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems\n      };\n    }\n  },\n  methods: {\n    createItemKey: function (e) {\n      var t = e.attribute,\n          i = e.value;\n      return [t, e.type, i, e.operator].join(\":\");\n    },\n    capitalize: function (e) {\n      return e ? e.toString().charAt(0).toLocaleUpperCase() + e.toString().slice(1) : \"\";\n    }\n  }\n};","map":{"version":3,"sources":["../../../../src/components/CurrentRefinements.vue"],"names":["render","name","mixins","createSuitMixin","createWidgetMixin","connector","connectCurrentRefinements","createPanelConsumerMixin","mapStateToCanRefine","state","Boolean","items","length","props","includedAttributes","type","Array","default","undefined","excludedAttributes","transformItems","Function","computed","noRefinement","this","widgetParams","methods","createItemKey","ref","attribute","value","join","capitalize","toString","charAt","toLocaleUpperCase","slice"],"mappings":"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","sourcesContent":["<template>\n  <div\n    :class=\"[suit(), noRefinement && suit('','noRefinement')]\"\n    v-if=\"state\"\n  >\n    <slot\n      :refine=\"state.refine\"\n      :items=\"state.items\"\n      :createURL=\"state.createURL\"\n    >\n      <ul :class=\"suit('list')\">\n        <li\n          v-for=\"item in state.items\"\n          :key=\"item.attribute\"\n          :class=\"suit('item')\"\n        >\n          <slot\n            name=\"item\"\n            :refine=\"item.refine\"\n            :item=\"item\"\n            :createURL=\"state.createURL\"\n          >\n            <span :class=\"suit('label')\">{{ capitalize(item.label) }}: </span>\n            <span\n              v-for=\"refinement in item.refinements\"\n              :key=\"createItemKey(refinement)\"\n              :class=\"suit('category')\"\n            >\n              <slot\n                name=\"refinement\"\n                :refine=\"item.refine\"\n                :refinement=\"refinement\"\n                :createURL=\"state.createURL\"\n              >\n                <span :class=\"suit('categoryLabel')\">\n                  <q v-if=\"refinement.attribute === 'query'\">{{ refinement.label }}</q>\n                  <template v-else>\n                    {{ refinement.label }}\n                  </template>\n                </span>\n                <button\n                  :class=\"suit('delete')\"\n                  @click=\"item.refine(refinement)\"\n                >\n                  ✕\n                </button>\n              </slot>\n            </span>\n          </slot>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectCurrentRefinements } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisCurrentRefinements',\n  mixins: [\n    createSuitMixin({ name: 'CurrentRefinements' }),\n    createWidgetMixin({ connector: connectCurrentRefinements }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state =>\n        Boolean(state.items) && state.items.length > 0,\n    }),\n  ],\n  props: {\n    includedAttributes: {\n      type: Array,\n      default: undefined,\n    },\n    excludedAttributes: {\n      type: Array,\n      default: undefined,\n    },\n    transformItems: {\n      type: Function,\n      default: undefined,\n    },\n  },\n  computed: {\n    noRefinement() {\n      return this.state && this.state.items.length === 0;\n    },\n    widgetParams() {\n      return {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    createItemKey({ attribute, value, type, operator }) {\n      return [attribute, type, value, operator].join(':');\n    },\n    capitalize(value) {\n      if (!value) return '';\n      return (\n        value\n          .toString()\n          .charAt(0)\n          .toLocaleUpperCase() + value.toString().slice(1)\n      );\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}