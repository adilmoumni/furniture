{"ast":null,"code":"/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  };\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) {\n      return '';\n    },\n    // variable escaping\n    v: hoganEscape,\n    // triple stache\n    t: coerceToString,\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n    // ensurePartial\n    ep: function (symbol, partials) {\n      var partial = this.partials[symbol]; // check to see that if we've instantiated this partial before\n\n      var template = partials[partial.name];\n\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      } // We use this to check whether the partials dictionary has changed\n\n\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = this.activeSub !== undefined && partials.stackText[this.activeSub] ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n\n        template = createSpecializedPartial(template, partial.subs, partial.partials, this.stackSubs, this.stackPartials, partials.stackText);\n      }\n\n      this.partials[symbol].instance = template;\n      return template;\n    },\n    // tries to find a partial in the current scope and render it\n    rp: function (symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n    // render a section\n    rs: function (context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n    // maybe start a section\n    s: function (val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push(typeof val == 'object' ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n    // find values with dotted names\n    d: function (key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n    // find values with normal names\n    f: function (key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return returnFound ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n    // higher order templates\n    ls: function (func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n      return false;\n    },\n    // compile text\n    ct: function (text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n    // template result buffering\n    b: function (s) {\n      this.buf += s;\n    },\n    fl: function () {\n      var r = this.buf;\n      this.buf = '';\n      return r;\n    },\n    // method replace section\n    ms: function (func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = this.activeSub && this.subsText && this.subsText[this.activeSub] ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n    // method replace variable\n    mv: function (func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n    sub: function (name, context, partials, indent) {\n      var f = this.subs[name];\n\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n  }; //Find a key in an object\n\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n      if (scope[key] !== undefined) {\n        val = scope[key]; // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {}\n\n    ;\n    PartialTemplate.prototype = instance;\n\n    function Substitutions() {}\n\n    ;\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {}; //hehe. substext.\n\n    partial.buf = '';\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String(val === null || val === undefined ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ? str.replace(rAmp, '&amp;').replace(rLt, '&lt;').replace(rGt, '&gt;').replace(rApos, '&#39;').replace(rQuot, '&quot;') : str;\n  }\n\n  var isArray = Array.isArray || function (a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n})(typeof exports !== 'undefined' ? exports : Hogan);","map":{"version":3,"sources":["/Users/adil/Documents/GitHub/furniture-front/node_modules/hogan.js/lib/template.js"],"names":["Hogan","Template","codeObj","text","compiler","options","r","code","c","partials","subs","buf","prototype","context","indent","v","hoganEscape","t","coerceToString","render","ri","ep","symbol","partial","template","name","instance","base","Error","compile","stackText","key","activeSub","undefined","createSpecializedPartial","stackSubs","stackPartials","rp","rs","section","tail","length","isArray","i","push","pop","s","val","ctx","inverted","start","end","tags","pass","ms","d","returnFound","found","names","split","f","doModelGet","modelGet","cx","findInScope","mv","ls","func","oldTags","delimiters","b","ct","call","disableLambda","fl","textSource","result","subsText","substring","sub","scope","get","PartialTemplate","Substitutions","rAmp","rLt","rGt","rApos","rQuot","hChars","String","str","test","replace","Array","a","Object","toString","exports"],"mappings":"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","sourcesContent":["/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n"]},"metadata":{},"sourceType":"script"}