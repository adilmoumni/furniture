{"ast":null,"code":"import { createSuitMixin as e } from \"../mixins/suit.js\";\nimport { createWidgetMixin as t } from \"../mixins/widget.js\";\nimport { connectRefinementList as s } from \"instantsearch.js/es/connectors\";\nimport { createPanelConsumerMixin as r } from \"../mixins/panel.js\";\nimport a from \"./Highlight.vue.js\";\nimport i from \"./SearchInput.vue.js\";\n\nvar o = function () {};\n\nexport default {\n  render: function () {\n    var e,\n        t = this,\n        s = t.$createElement,\n        r = t._self._c || s;\n    return t.state ? r(\"div\", {\n      class: [t.suit(), !t.state.canRefine && t.suit(\"\", \"noRefinement\")]\n    }, [t._t(\"default\", [t.searchable ? r(\"div\", {\n      class: t.suit(\"searchBox\")\n    }, [r(\"search-input\", {\n      attrs: {\n        placeholder: t.searchablePlaceholder,\n        \"class-names\": t.classNames\n      },\n      model: {\n        value: t.searchForFacetValues,\n        callback: function (e) {\n          t.searchForFacetValues = e;\n        },\n        expression: \"searchForFacetValues\"\n      }\n    })], 1) : t._e(), t._v(\" \"), t.state.isFromSearch && 0 === t.items.length ? t._t(\"noResults\", [r(\"div\", {\n      class: t.suit(\"noResults\")\n    }, [t._v(\"No results.\")])], {\n      query: t.searchForFacetValues\n    }) : t._e(), t._v(\" \"), r(\"ul\", {\n      class: t.suit(\"list\")\n    }, t._l(t.items, function (e) {\n      return r(\"li\", {\n        key: e.value,\n        class: [t.suit(\"item\"), e.isRefined && t.suit(\"item\", \"selected\")]\n      }, [t._t(\"item\", [r(\"label\", {\n        class: t.suit(\"label\")\n      }, [r(\"input\", {\n        class: t.suit(\"checkbox\"),\n        attrs: {\n          type: \"checkbox\"\n        },\n        domProps: {\n          value: e.value,\n          checked: e.isRefined\n        },\n        on: {\n          change: function (s) {\n            return t.refine(e.value);\n          }\n        }\n      }), t._v(\" \"), t.searchable ? r(\"span\", {\n        class: t.suit(\"labelText\")\n      }, [r(\"ais-highlight\", {\n        attrs: {\n          attribute: \"item\",\n          hit: e\n        }\n      })], 1) : r(\"span\", {\n        class: t.suit(\"labelText\")\n      }, [t._v(t._s(e.label))]), t._v(\" \"), r(\"span\", {\n        class: t.suit(\"count\")\n      }, [t._v(t._s(e.count))])])], {\n        item: e,\n        refine: t.refine,\n        createURL: t.state.createURL\n      })], 2);\n    }), 0), t._v(\" \"), t.showMore ? r(\"button\", {\n      class: [t.suit(\"showMore\"), (e = {}, e[t.suit(\"showMore\", \"disabled\")] = !t.state.canToggleShowMore, e)],\n      attrs: {\n        disabled: !t.state.canToggleShowMore\n      },\n      on: {\n        click: t.toggleShowMore\n      }\n    }, [t._t(\"showMoreLabel\", [t._v(\"Show \" + t._s(t.state.isShowingMore ? \"less\" : \"more\"))], {\n      isShowingMore: t.state.isShowingMore\n    })], 2) : t._e()], {\n      items: t.items,\n      refine: t.refine,\n      searchForItems: t.state.searchForItems,\n      searchForItemsQuery: t.searchForFacetValuesQuery,\n      toggleShowMore: t.toggleShowMore,\n      canToggleShowMore: t.state.canToggleShowMore,\n      isShowingMore: t.state.isShowingMore,\n      createURL: t.state.createURL,\n      isFromSearch: t.state.isFromSearch,\n      canRefine: t.state.canRefine,\n      sendEvent: t.state.sendEvent\n    })], 2) : t._e();\n  },\n  staticRenderFns: [],\n  name: \"AisRefinementList\",\n  components: {\n    SearchInput: i,\n    AisHighlight: a\n  },\n  mixins: [e({\n    name: \"RefinementList\"\n  }), t({\n    connector: s\n  }), r({\n    mapStateToCanRefine: function (e) {\n      return Boolean(e.canRefine);\n    }\n  })],\n  props: {\n    attribute: {\n      type: String,\n      required: !0\n    },\n    searchable: {\n      type: Boolean,\n      default: void 0\n    },\n    searchablePlaceholder: {\n      type: String,\n      required: !1,\n      default: \"Search here…\"\n    },\n    operator: {\n      default: \"or\",\n      validator: function (e) {\n        return \"and\" === e || \"or\" === e;\n      },\n      required: !1\n    },\n    limit: {\n      type: Number,\n      required: !1,\n      default: void 0\n    },\n    showMoreLimit: {\n      type: Number,\n      required: !1,\n      default: void 0\n    },\n    showMore: {\n      type: Boolean,\n      required: !1,\n      default: !1\n    },\n    sortBy: {\n      type: [Array, Function],\n      required: !1,\n      default: void 0\n    },\n    transformItems: {\n      type: Function,\n      required: !1,\n      default: void 0\n    }\n  },\n  data: function () {\n    return {\n      searchForFacetValuesQuery: \"\"\n    };\n  },\n  computed: {\n    searchForFacetValues: {\n      get: function () {\n        return this.searchForFacetValuesQuery;\n      },\n      set: function (e) {\n        this.state.searchForItems(e), this.searchForFacetValuesQuery = e;\n      }\n    },\n    toggleShowMore: function () {\n      return this.state.toggleShowMore || o;\n    },\n    items: function () {\n      return this.state.items.map(function (e) {\n        return Object.assign({}, e, {\n          _highlightResult: {\n            item: {\n              value: e.highlighted\n            }\n          }\n        });\n      });\n    },\n    widgetParams: function () {\n      return {\n        attribute: this.attribute,\n        operator: this.operator,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        sortBy: this.sortBy,\n        escapeFacetValues: !0,\n        transformItems: this.transformItems\n      };\n    }\n  },\n  methods: {\n    refine: function (e) {\n      this.state.refine(e), this.searchForFacetValuesQuery = \"\";\n    }\n  }\n};","map":{"version":3,"sources":["../../../../src/components/RefinementList.vue"],"names":["const","noop","render","name","components","SearchInput","AisHighlight","mixins","createSuitMixin","createWidgetMixin","connector","connectRefinementList","createPanelConsumerMixin","mapStateToCanRefine","state","Boolean","canRefine","props","attribute","type","String","required","searchable","default","undefined","searchablePlaceholder","operator","validator","value","limit","Number","showMoreLimit","showMore","sortBy","Array","Function","transformItems","data","searchForFacetValuesQuery","computed","searchForFacetValues","get","this","set","searchForItems","toggleShowMore","items","map","item","Object","assign","_highlightResult","highlighted","widgetParams","escapeFacetValues","methods","refine"],"mappings":"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","sourcesContent":["<template>\n  <div\n    :class=\"[\n      suit(),\n      !state.canRefine && suit('','noRefinement')\n    ]\"\n    v-if=\"state\"\n  >\n    <slot\n      :items=\"items\"\n      :refine=\"refine\"\n      :search-for-items=\"state.searchForItems\"\n      :search-for-items-query=\"searchForFacetValuesQuery\"\n      :toggle-show-more=\"toggleShowMore\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :createURL=\"state.createURL\"\n      :is-from-search=\"state.isFromSearch\"\n      :can-refine=\"state.canRefine\"\n      :send-event=\"state.sendEvent\"\n    >\n      <div\n        :class=\"suit('searchBox')\"\n        v-if=\"searchable\"\n      >\n        <search-input\n          v-model=\"searchForFacetValues\"\n          :placeholder=\"searchablePlaceholder\"\n          :class-names=\"classNames\"\n        />\n      </div>\n      <slot\n        name=\"noResults\"\n        :query=\"searchForFacetValues\"\n        v-if=\"state.isFromSearch && items.length === 0\"\n      >\n        <div :class=\"suit('noResults')\">No results.</div>\n      </slot>\n      <ul :class=\"suit('list')\">\n        <li\n          :class=\"[\n          suit('item'), item.isRefined && suit('item', 'selected')]\"\n          v-for=\"item in items\"\n          :key=\"item.value\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n            :refine=\"refine\"\n            :createURL=\"state.createURL\"\n          >\n            <label :class=\"suit('label')\">\n              <input\n                :class=\"suit('checkbox')\"\n                type=\"checkbox\"\n                :value=\"item.value\"\n                :checked=\"item.isRefined\"\n                @change=\"refine(item.value)\"\n              >\n              <span\n                v-if=\"searchable\"\n                :class=\"suit('labelText')\"\n              >\n                <ais-highlight\n                  attribute=\"item\"\n                  :hit=\"item\"\n                />\n              </span>\n              <span\n                v-else\n                :class=\"suit('labelText')\"\n              >{{ item.label }}</span>\n              <span :class=\"suit('count')\">{{ item.count }}</span>\n            </label>\n          </slot>\n        </li>\n      </ul>\n      <button\n        :class=\"[\n          suit('showMore'),\n          {\n            [suit('showMore', 'disabled')]: !state.canToggleShowMore,\n          }\n        ]\"\n        @click=\"toggleShowMore\"\n        v-if=\"showMore\"\n        :disabled=\"!state.canToggleShowMore\"\n      >\n        <slot\n          name=\"showMoreLabel\"\n          :is-showing-more=\"state.isShowingMore\"\n        >Show {{ state.isShowingMore ? 'less' : 'more' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { connectRefinementList } from 'instantsearch.js/es/connectors';\nimport SearchInput from './SearchInput.vue';\nimport AisHighlight from './Highlight.vue';\n\nconst noop = () => {};\n\nexport default {\n  name: 'AisRefinementList',\n  components: { SearchInput, AisHighlight },\n  mixins: [\n    createSuitMixin({ name: 'RefinementList' }),\n    createWidgetMixin({ connector: connectRefinementList }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    searchable: {\n      type: Boolean,\n      default: undefined,\n    },\n    searchablePlaceholder: {\n      type: String,\n      required: false,\n      default: 'Search here…',\n    },\n    operator: {\n      default: 'or',\n      validator(value) {\n        return value === 'and' || value === 'or';\n      },\n      required: false,\n    },\n    limit: {\n      type: Number,\n      required: false,\n      default: undefined,\n    },\n    showMoreLimit: {\n      type: Number,\n      required: false,\n      default: undefined,\n    },\n    showMore: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      required: false,\n      default: undefined,\n    },\n    transformItems: {\n      type: Function,\n      required: false,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      searchForFacetValuesQuery: '',\n    };\n  },\n  computed: {\n    searchForFacetValues: {\n      get() {\n        return this.searchForFacetValuesQuery;\n      },\n      set(value) {\n        this.state.searchForItems(value);\n        this.searchForFacetValuesQuery = value;\n      },\n    },\n    toggleShowMore() {\n      return this.state.toggleShowMore || noop;\n    },\n    items() {\n      return this.state.items.map(item =>\n        Object.assign({}, item, {\n          _highlightResult: {\n            item: {\n              value: item.highlighted,\n            },\n          },\n        })\n      );\n    },\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        operator: this.operator,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        sortBy: this.sortBy,\n        escapeFacetValues: true,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    refine(value) {\n      this.state.refine(value);\n      this.searchForFacetValuesQuery = '';\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}