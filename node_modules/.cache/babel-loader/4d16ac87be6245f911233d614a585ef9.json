{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport qs from 'qs';\n\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    window.document.title = title;\n  }\n};\n\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory(_ref) {\n    var windowTitle = _ref.windowTitle,\n        _ref$writeDelay = _ref.writeDelay,\n        writeDelay = _ref$writeDelay === void 0 ? 400 : _ref$writeDelay,\n        createURL = _ref.createURL,\n        parseURL = _ref.parseURL;\n\n    _classCallCheck(this, BrowserHistory);\n\n    _defineProperty(this, \"windowTitle\", void 0);\n\n    _defineProperty(this, \"writeDelay\", void 0);\n\n    _defineProperty(this, \"_createURL\", void 0);\n\n    _defineProperty(this, \"parseURL\", void 0);\n\n    _defineProperty(this, \"writeTimer\", void 0);\n\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    var title = this.windowTitle && this.windowTitle(this.read());\n    setWindowTitle(title);\n  }\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n\n\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: window.location\n      });\n    }\n    /**\n     * Pushes a search state into the URL.\n     */\n\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this = this;\n\n      var url = this.createURL(routeState);\n      var title = this.windowTitle && this.windowTitle(routeState);\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.writeTimer = window.setTimeout(function () {\n        setWindowTitle(title);\n        window.history.pushState(routeState, title || '', url);\n        _this.writeTimer = undefined;\n      }, this.writeDelay);\n    }\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this2 = this;\n\n      this._onPopState = function (event) {\n        if (_this2.writeTimer) {\n          window.clearTimeout(_this2.writeTimer);\n          _this2.writeTimer = undefined;\n        }\n\n        var routeState = event.state; // At initial load, the state is read from the URL without update.\n        // Therefore the state object is not available.\n        // In this case, we fallback and read the URL.\n\n        if (!routeState) {\n          callback(_this2.read());\n        } else {\n          callback(routeState);\n        }\n      };\n\n      window.addEventListener('popstate', this._onPopState);\n    }\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch.js/issues/790\n     */\n\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      return this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: window.location\n      });\n    }\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._onPopState) {\n        window.removeEventListener('popstate', this._onPopState);\n      }\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.write({});\n    }\n  }]);\n\n  return BrowserHistory;\n}();\n\nexport default function historyRouter() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$createURL = _ref2.createURL,\n      createURL = _ref2$createURL === void 0 ? function (_ref3) {\n    var qsModule = _ref3.qsModule,\n        routeState = _ref3.routeState,\n        location = _ref3.location;\n    var protocol = location.protocol,\n        hostname = location.hostname,\n        _location$port = location.port,\n        port = _location$port === void 0 ? '' : _location$port,\n        pathname = location.pathname,\n        hash = location.hash;\n    var queryString = qsModule.stringify(routeState);\n    var portWithPrefix = port === '' ? '' : \":\".concat(port); // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n    // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n\n    if (!queryString) {\n      return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n    }\n\n    return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n  } : _ref2$createURL,\n      _ref2$parseURL = _ref2.parseURL,\n      parseURL = _ref2$parseURL === void 0 ? function (_ref4) {\n    var qsModule = _ref4.qsModule,\n        location = _ref4.location; // `qs` by default converts arrays with more than 20 items to an object.\n    // We want to avoid this because the data structure manipulated can therefore vary.\n    // Setting the limit to `100` seems a good number because the engine's default is 100\n    // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n    //\n    // Using an `arrayLimit` of `n` allows `n + 1` items.\n    //\n    // See:\n    //   - https://github.com/ljharb/qs#parsing-arrays\n    //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n\n    return qsModule.parse(location.search.slice(1), {\n      arrayLimit: 99\n    });\n  } : _ref2$parseURL,\n      _ref2$writeDelay = _ref2.writeDelay,\n      writeDelay = _ref2$writeDelay === void 0 ? 400 : _ref2$writeDelay,\n      windowTitle = _ref2.windowTitle;\n\n  return new BrowserHistory({\n    createURL: createURL,\n    parseURL: parseURL,\n    writeDelay: writeDelay,\n    windowTitle: windowTitle\n  });\n}","map":{"version":3,"sources":["/Users/adil/Documents/GitHub/furniture-front/node_modules/instantsearch.js/es/lib/routers/history.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","qs","setWindowTitle","title","window","document","BrowserHistory","_ref","windowTitle","_ref$writeDelay","writeDelay","createURL","parseURL","writeTimer","undefined","_createURL","read","qsModule","location","write","routeState","_this","url","clearTimeout","setTimeout","history","pushState","onUpdate","callback","_this2","_onPopState","event","state","addEventListener","dispose","removeEventListener","historyRouter","_ref2","arguments","_ref2$createURL","_ref3","protocol","hostname","_location$port","port","pathname","hash","queryString","stringify","portWithPrefix","concat","_ref2$parseURL","_ref4","parse","search","slice","arrayLimit","_ref2$writeDelay"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport qs from 'qs';\n\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    window.document.title = title;\n  }\n};\n\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory(_ref) {\n    var windowTitle = _ref.windowTitle,\n        _ref$writeDelay = _ref.writeDelay,\n        writeDelay = _ref$writeDelay === void 0 ? 400 : _ref$writeDelay,\n        createURL = _ref.createURL,\n        parseURL = _ref.parseURL;\n\n    _classCallCheck(this, BrowserHistory);\n\n    _defineProperty(this, \"windowTitle\", void 0);\n\n    _defineProperty(this, \"writeDelay\", void 0);\n\n    _defineProperty(this, \"_createURL\", void 0);\n\n    _defineProperty(this, \"parseURL\", void 0);\n\n    _defineProperty(this, \"writeTimer\", void 0);\n\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    var title = this.windowTitle && this.windowTitle(this.read());\n    setWindowTitle(title);\n  }\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n\n\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: window.location\n      });\n    }\n    /**\n     * Pushes a search state into the URL.\n     */\n\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this = this;\n\n      var url = this.createURL(routeState);\n      var title = this.windowTitle && this.windowTitle(routeState);\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.writeTimer = window.setTimeout(function () {\n        setWindowTitle(title);\n        window.history.pushState(routeState, title || '', url);\n        _this.writeTimer = undefined;\n      }, this.writeDelay);\n    }\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this2 = this;\n\n      this._onPopState = function (event) {\n        if (_this2.writeTimer) {\n          window.clearTimeout(_this2.writeTimer);\n          _this2.writeTimer = undefined;\n        }\n\n        var routeState = event.state; // At initial load, the state is read from the URL without update.\n        // Therefore the state object is not available.\n        // In this case, we fallback and read the URL.\n\n        if (!routeState) {\n          callback(_this2.read());\n        } else {\n          callback(routeState);\n        }\n      };\n\n      window.addEventListener('popstate', this._onPopState);\n    }\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch.js/issues/790\n     */\n\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      return this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: window.location\n      });\n    }\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._onPopState) {\n        window.removeEventListener('popstate', this._onPopState);\n      }\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.write({});\n    }\n  }]);\n\n  return BrowserHistory;\n}();\n\nexport default function historyRouter() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$createURL = _ref2.createURL,\n      createURL = _ref2$createURL === void 0 ? function (_ref3) {\n    var qsModule = _ref3.qsModule,\n        routeState = _ref3.routeState,\n        location = _ref3.location;\n    var protocol = location.protocol,\n        hostname = location.hostname,\n        _location$port = location.port,\n        port = _location$port === void 0 ? '' : _location$port,\n        pathname = location.pathname,\n        hash = location.hash;\n    var queryString = qsModule.stringify(routeState);\n    var portWithPrefix = port === '' ? '' : \":\".concat(port); // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n\n    // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n    if (!queryString) {\n      return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n    }\n\n    return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n  } : _ref2$createURL,\n      _ref2$parseURL = _ref2.parseURL,\n      parseURL = _ref2$parseURL === void 0 ? function (_ref4) {\n    var qsModule = _ref4.qsModule,\n        location = _ref4.location;\n    // `qs` by default converts arrays with more than 20 items to an object.\n    // We want to avoid this because the data structure manipulated can therefore vary.\n    // Setting the limit to `100` seems a good number because the engine's default is 100\n    // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n    //\n    // Using an `arrayLimit` of `n` allows `n + 1` items.\n    //\n    // See:\n    //   - https://github.com/ljharb/qs#parsing-arrays\n    //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n    return qsModule.parse(location.search.slice(1), {\n      arrayLimit: 99\n    });\n  } : _ref2$parseURL,\n      _ref2$writeDelay = _ref2.writeDelay,\n      writeDelay = _ref2$writeDelay === void 0 ? 400 : _ref2$writeDelay,\n      windowTitle = _ref2.windowTitle;\n\n  return new BrowserHistory({\n    createURL: createURL,\n    parseURL: parseURL,\n    writeDelay: writeDelay,\n    windowTitle: windowTitle\n  });\n}"]},"metadata":{},"sourceType":"module"}