{"version":3,"file":"SearchBox.vue_vue&type=script&lang.js","sources":["../../../../src/components/SearchBox.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"state\"\n    :class=\"suit()\"\n  >\n    <slot\n      :current-refinement=\"currentRefinement\"\n      :is-search-stalled=\"state.isSearchStalled\"\n      :refine=\"state.refine\"\n    >\n      <search-input\n        @focus=\"$emit('focus', $event)\"\n        @blur=\"$emit('blur', $event)\"\n        @reset=\"$emit('reset')\"\n        :placeholder=\"placeholder\"\n        :autofocus=\"autofocus\"\n        :show-loading-indicator=\"showLoadingIndicator\"\n        :should-show-loading-indicator=\"state.isSearchStalled\"\n        :submit-title=\"submitTitle\"\n        :reset-title=\"resetTitle\"\n        :class-names=\"classNames\"\n        v-model=\"currentRefinement\"\n      >\n        <template\n          v-slot:loading-indicator\n          v-if=\"isVue3\"\n        >\n          <slot\n            name=\"loading-indicator\"\n          />\n        </template>\n        <slot\n          v-if=\"isVue2\"\n          name=\"loading-indicator\"\n          slot=\"loading-indicator\"\n        />\n\n        <template\n          v-slot:submit-icon\n          v-if=\"isVue3\"\n        >\n          <slot\n            name=\"submit-icon\"\n          />\n        </template>\n        <slot\n          v-if=\"isVue2\"\n          name=\"submit-icon\"\n          slot=\"submit-icon\"\n        />\n\n        <template\n          v-slot:reset-icon\n          v-if=\"isVue3\"\n        >\n          <slot\n            name=\"reset-icon\"\n          />\n        </template>\n        <slot\n          v-if=\"isVue2\"\n          name=\"reset-icon\"\n          slot=\"reset-icon\"\n        />\n      </search-input>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectSearchBox } from 'instantsearch.js/es/connectors';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { isVue3, isVue2 } from '../util/vue-compat';\nimport SearchInput from './SearchInput.vue';\n\nexport default {\n  name: 'AisSearchBox',\n  mixins: [\n    createWidgetMixin({ connector: connectSearchBox }),\n    createSuitMixin({ name: 'SearchBox' }),\n  ],\n  components: {\n    SearchInput,\n  },\n  props: {\n    placeholder: {\n      type: String,\n      default: 'Search hereâ€¦',\n    },\n    autofocus: {\n      type: Boolean,\n      default: false,\n    },\n    showLoadingIndicator: {\n      type: Boolean,\n      default: false,\n    },\n    submitTitle: {\n      type: String,\n      default: 'Search',\n    },\n    resetTitle: {\n      type: String,\n      default: 'Clear',\n    },\n    value: {\n      type: String,\n      default: undefined,\n    },\n    modelValue: {\n      type: String,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      localValue: '',\n      isVue2,\n      isVue3,\n    };\n  },\n  computed: {\n    isControlled() {\n      return (\n        typeof this.value !== 'undefined' ||\n        typeof this.modelValue !== 'undefined'\n      );\n    },\n    model() {\n      return this.value || this.modelValue;\n    },\n    currentRefinement: {\n      get() {\n        // if the input is controlled, but not up to date\n        // this means it didn't search, and we should pretend it was `set`\n        if (this.isControlled && this.model !== this.localValue) {\n          // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n          this.localValue = this.model;\n          this.$emit('input', this.model);\n          this.$emit('update:modelValue', this.model);\n          this.state.refine(this.model);\n        }\n        return this.model || this.state.query || '';\n      },\n      set(val) {\n        this.localValue = val;\n        this.state.refine(val);\n        if (this.isControlled) {\n          this.$emit('input', val);\n          this.$emit('update:modelValue', val);\n        }\n      },\n    },\n  },\n};\n</script>\n"],"names":["name","mixins","createWidgetMixin","connector","connectSearchBox","createSuitMixin","components","SearchInput","props","placeholder","type","String","default","autofocus","Boolean","showLoadingIndicator","submitTitle","resetTitle","value","undefined","modelValue","data","localValue","isVue2","isVue3","computed","isControlled","this","model","currentRefinement","get","$emit","state","refine","query","set","val"],"mappings":"+SA4Ee,CACbA,KAAM,eACNC,OAAQ,CACNC,EAAkB,CAAEC,UAAWC,IAC/BC,EAAgB,CAAEL,KAAM,eAE1BM,WAAY,aACVC,GAEFC,MAAO,CACLC,YAAa,CACXC,KAAMC,OACNC,QAAS,gBAEXC,UAAW,CACTH,KAAMI,QACNF,SAAS,GAEXG,qBAAsB,CACpBL,KAAMI,QACNF,SAAS,GAEXI,YAAa,CACXN,KAAMC,OACNC,QAAS,UAEXK,WAAY,CACVP,KAAMC,OACNC,QAAS,SAEXM,MAAO,CACLR,KAAMC,OACNC,aAASO,GAEXC,WAAY,CACVV,KAAMC,OACNC,aAASO,IAGbE,gBACE,MAAO,CACLC,WAAY,UACZC,SACAC,IAGJC,SAAU,CACRC,wBACE,YACwB,IAAfC,KAAKT,YACe,IAApBS,KAAKP,YAGhBQ,iBACE,OAAOD,KAAKT,OAASS,KAAKP,YAE5BS,kBAAmB,CACjBC,eAUE,OAPIH,KAAKD,cAAgBC,KAAKC,QAAUD,KAAKL,aAE3CK,KAAKL,WAAaK,KAAKC,MACvBD,KAAKI,MAAM,QAASJ,KAAKC,OACzBD,KAAKI,MAAM,oBAAqBJ,KAAKC,OACrCD,KAAKK,MAAMC,OAAON,KAAKC,QAElBD,KAAKC,OAASD,KAAKK,MAAME,OAAS,IAE3CC,aAAIC,GACFT,KAAKL,WAAac,EAClBT,KAAKK,MAAMC,OAAOG,GACdT,KAAKD,eACPC,KAAKI,MAAM,QAASK,GACpBT,KAAKI,MAAM,oBAAqBK"}